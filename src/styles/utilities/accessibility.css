/* Clase para lectores de pantalla (Screen Reader Only) */
/* Oculta visualmente pero mantiene accesible para tecnologías asistivas */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.accessibility-large-cursor,
.accessibility-large-cursor * {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="black" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/></svg>') 10 10, auto !important;
}

.accessibility-no-animations,
.accessibility-no-animations *,
.accessibility-no-animations *::before,
.accessibility-no-animations *::after {
  animation: none !important;
  transition: none !important;
  scroll-behavior: auto !important;
}

/* Clase para cambiar el color del texto - FORZADO AGRESIVO */
html.accessibility-text-color body,
html.accessibility-text-color body * {
  color: var(--accessibility-text-color) !important;
}

/* Manejo especial para SVGs (iconos) */
html.accessibility-text-color body svg {
  stroke: var(--accessibility-text-color) !important;
}

/* Excepciones críticas */
html.accessibility-text-color input,
html.accessibility-text-color textarea,
html.accessibility-text-color select {
  color: initial !important;
  /* Dejar inputs quietos */
}

/* Los colores de texto ahora funcionan directamente con el modo oscuro
   sin necesidad de filtros o lógica de cancelación */

/* Forzar color normal en inputs para evitar herencia y lag */
.accessibility-text-color input,
.accessibility-text-color textarea,
.accessibility-text-color select {
  color: var(--foreground) !important;
}

/* Modo oscuro */
.accessibility-dark-mode {
  --dark-bg-primary: #0a0a0a;
  --dark-bg-secondary: #1a1a1a;
  --dark-bg-tertiary: #2a2a2a;
  --dark-text-primary: #f5f5f5;
  --dark-text-secondary: #d4d4d4;
  --dark-border: #2a2a2a;
}

.accessibility-dark-mode,
.accessibility-dark-mode body {
  background-color: var(--dark-bg-primary) !important;
  color: var(--dark-text-primary) !important;
}

.accessibility-dark-mode h1,
.accessibility-dark-mode h2,
.accessibility-dark-mode h3,
.accessibility-dark-mode h4,
.accessibility-dark-mode h5,
.accessibility-dark-mode h6,
.accessibility-dark-mode p,
.accessibility-dark-mode span,
.accessibility-dark-mode a,
.accessibility-dark-mode li,
.accessibility-dark-mode label {
  color: var(--dark-text-primary) !important;
}

.accessibility-dark-mode section,
.accessibility-dark-mode div:not([class*="bg-"]) {
  background-color: transparent !important;
}

.accessibility-dark-mode [class*="bg-white"],
.accessibility-dark-mode [class*="bg-gray"] {
  background-color: var(--dark-bg-secondary) !important;
}

.accessibility-dark-mode input,
.accessibility-dark-mode textarea,
.accessibility-dark-mode select {
  background-color: var(--dark-bg-tertiary) !important;
  color: var(--dark-text-primary) !important;
  border-color: var(--dark-border) !important;
}

/* Eliminar todos los bordes, rings y outlines problemáticos */
.accessibility-dark-mode *:focus,
.accessibility-dark-mode *:focus-visible,
.accessibility-dark-mode button:focus,
.accessibility-dark-mode a:focus {
  outline: none !important;
  box-shadow: none !important;
  border-color: transparent !important;
  --tw-ring-color: transparent !important;
  --tw-ring-offset-color: transparent !important;
  --tw-ring-offset-width: 0px !important;
}

/* Eliminar bordes de botones y links del navbar */
.accessibility-dark-mode button,
.accessibility-dark-mode a {
  border: none !important;
  box-shadow: none !important;
  color: var(--dark-text-primary) !important;
}

/* Forzar color blanco en botones del navbar específicamente */
.accessibility-dark-mode nav button,
.accessibility-dark-mode nav a,
.accessibility-dark-mode header button,
.accessibility-dark-mode header a {
  color: var(--dark-text-primary) !important;
}

/* Asegurar que los elementos interactivos mantengan accesibilidad con outline sutil solo al navegar por teclado */
.accessibility-dark-mode *:focus-visible {
  outline: 1px solid rgba(255, 255, 255, 0.2) !important;
  outline-offset: 2px !important;
}

/* Fix para pricing page - sobreescribir grises oscuros */
.accessibility-dark-mode [class*="text-gray-300"],
.accessibility-dark-mode [class*="text-gray-400"] {
  color: var(--dark-text-primary) !important;
}

/* Asegurar que los span de precio y billing cycle sean blancos */
.accessibility-dark-mode span {
  color: var(--dark-text-primary) !important;
}

/* Fix para toggle switch (Mensual/Anual) */
.accessibility-dark-mode button[role="switch"] {
  background-color: #4a5568 !important;
  /* Un gris más claro para mejor contraste */
}

.accessibility-dark-mode button[role="switch"] span {
  background-color: white !important;
  /* Asegurar que el círculo sea blanco */
}